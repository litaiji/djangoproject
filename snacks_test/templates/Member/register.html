{% load static %}
<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>中国零食网-用户注册</title>
    <link rel="stylesheet" href="{% static 'Member/register/base.css' %}"/>
    <link rel="stylesheet" href="{% static 'Member/register/register.css' %}"/>
    <style>
        .container{
            width:100px;
        }
        span{
            color: red;
            float:left
        }
    </style>
</head>
<body>
    <div id="main">
        <div id="header">
        </div>
        <div class="container">
            <div class="bgPic"><img src="{% static 'Member/register/logo.jpg' %}" alt=""/></div>
            <div class="register" style="top: 0;height: 455px;left: 580px;">
                <div class="title">
                    <span>注册</span>
                    <a href="{% url 'member:login' %}">去登录</a>
                </div>
                <form autocomplete="off" method="post" action="{% url 'member:register' %}">
                    {% csrf_token %}
                    <div class="default">

                        <input id="uname" name="username" data-form="uname" type="text" placeholder="邮箱/手机号" value="{{ username }}"/>
{#                        <label for="uname"></label>#}
                        <span>{% for error in form.username.errors %}
                        {{ error }}
                        {% endfor %}</span>
                    </div>
                    <div class="default">

                        <input id="upwd" name="password" data-form="upwd" type="password" placeholder="密码" value="{{ password }}"/>
{#                        <label for="upwd">密码</label>#}
                        <span>{% for error in form.password.errors %}
                        {{ error }}
                        {% endfor %}</span>
                    </div>
                    <div class="default">

                        <input id="upwd_2" name='confirm_password' data-form="upwd_2" type="password" placeholder="确认密码" value="{{ confirm_password }}"/>
{#                        <label for="upwd_2">确认密码</label>#}
                        <span>{% for error in form.confirm_password.errors %}
                        {{ error }}
                        {% endfor %}</span>
                    </div>


                    <div class="default" style="margin-top: 40px">
                        <p>验证码</p>
                        <input id="yzm" name="yzm" data-form="yzm" type="text" placeholder="验证码" style="width: 100px;"/><button id="d1" data-form="submit" style="width: 100px;height: 30px;margin-left: 45px">获取验证码</button>
                        <label for="uname"></label>
                        <span>{{ msg }}</span>
                    </div>


                    <!-- <div class="default">
                        <p>请输入正确的验证码</p>
                        <input style="width:50px;" maxlength="4" type="text" id="yzm" name="yzm" onfocus="checkReg('yzm')" size="25" class="px"/><br/><em id="emailmore">&nbsp;</em>

                        <td class="tipcol"><i id="tip_yzm" class="p_tip">
                            <img src="/user/code?" id="p_yzm" onclick="this.src='/user/code?'+Math.random()"
                                 style="cursor:pointer"/>
                            <a href="javascript:" onclick="show('p_yzm')">看不清？</a></i></td>
                        <label for="upwd_2">验证码</label>
                    </div> -->
                    <div class="submit" >
{#                        <span class="notice">点击"注册"代表您同意遵守#}
{#                            <a href="#">用户协议</a>#}
{#                            和#}
{#                            <a href="#">隐私条款</a>#}
{#                        </span>#}
                        <button class="s_hover" data-form="submit" style="width: 282px; height: 38px; color: white; border:0
">注册</button>
                    </div>
                </form>
{#                <div class="other_login">#}
{#                    <div class="log">#}
{#                        <span>社交账号登录</span>#}
{#                    </div>#}
{#                    <div class="icon">#}
{#                        <ul>#}
{#                            <li data-log="icon" class="i_hover">#}
{#                                <img data-icon="wx" src="{% static 'Member/register/wx.png' %}" alt=""/>#}
{#                                <span class="prompt" >微信登录</span>#}
{#                            </li>#}
{#                            <li data-log="icon" class="i_hover">#}
{#                                <img data-icon="qq" src="{% static 'Member/register/qq.png' %}" alt=""/>#}
{#                                <span class="prompt" >QQ登录</span>#}
{#                            </li>#}
{#                            <li data-log="icon" class="i_hover">#}
{#                                <img data-icon="wb" src="{% static 'Member/register/wb.png' %}" alt=""/>#}
{#                                <span class="prompt" >微博登录</span>#}
{#                            </li>#}
{#                        </ul>#}
{#                    </div>#}
{#                </div>#}
            </div>
        </div>
{#        <script>#}
{#        function checkReg(obj) {#}
{#            document.getElementById('tip_' + obj).style.display = 'block';#}
{#        }#}
{##}
{#        function checkRegOut(obj, test) {#}
{#            if (document.getElementById(obj).value == '') {#}
{#                document.getElementById('tip_' + obj).innerHTML = '<b style="color:red;">' + test + '</b>';#}
{#            } else {#}
{#                document.getElementById('tip_' + obj).style.display = 'none';#}
{#            }#}
{#        }#}
{##}
{#        function show(obj) {#}
{#            document.getElementById(obj).src = '/user/yzm?' + Math.random();#}
{#        }#}
{#    </script>#}
        <div id="footer">
        </div>
    </div>

</body>
</html>

{#<script>#}
{#    $(document).ready(function () {#}
{#        $('#d1').submit(function () {#}
{#            var zt = 'yzm';#}
{#            $.ajax({#}
{#                type: "POST",#}
{#                data: {zt: zt},#}
{##}
{#                url: "{% url 'member:register' %}",#}
{#                cache: false,#}
{#                dataType: "html",#}
{#                success: function (result, statues, xml) {#}
{#                    console.log(result)#}
{#                    alert(result);#}
{#                },#}
{#                error: function () {#}
{#                    alert("result");#}
{#                }#}
{#            });#}
{#            return false;#}
{#        });#}
{#    });#}
{#</script>#}

<script>
    $("#d1").click(function () {

        $ajax({
            type:'post',
            url:{% url 'member:register' %},
            data: {

        },
        success(data){}
        });
        {#$.post({% url 'member:register' %}, $('form').serialize(), function(data){#}
        {#    data:{zt:'yzm'}#}
        })

</script>




{#function testAjax() {#}
{#        $.ajax({#}
{#            type: "post", // 以post方式发起请求#}
{#            url: "/yourUrl", // 你的请求链接#}
{#            data: { // 提交数据#}
{#                "username": "admin", // 前者为字段名，后者为数据#}
{#                "password": "admin"#}
{#            },#}
{#            success(data) {#}
{#                // data为返回值#}
{#                // 成功后的回调方法#}
{#            }#}
{#        })#}
{#    }#}